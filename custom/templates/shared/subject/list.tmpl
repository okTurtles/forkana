<div class="flex-list">
	{{if .HasSearchKeyword}}
		{{/* When searching, show exact match and similar results separately */}}
		{{if .Keyword}}
			<div class="tw-font-bold tw-text-base tw-mb-4">
				{{ctx.Locale.Tr "explore.search_results_for" .Keyword}}
			</div>
		{{end}}

		{{/* No Exact Match - Show Create Button */}}
		{{if not .ExactMatch}}
			<div class="tw-mb-6">
				<p class="tw-flex tw-items-center tw-gap-2 tw-italic tw-text-sm text muted tw-mb-3">
					{{svg "octicon-skip" 16}} {{ctx.Locale.Tr "search.no_exact_page_found" .Keyword}}
				</p>
				<a class="ui primary button" href="{{AppSubUrl}}/repo/create?subject={{QueryEscape .Keyword}}">
					{{ctx.Locale.Tr "search.create_new_subject"}}
				</a>
			</div>
		{{end}}

		{{/* Exact Match Section */}}
		{{if .ExactMatch}}
			{{template "shared/subject/item" .ExactMatch}}
		{{end}}

		{{/* Similar Section */}}
		{{if .SimilarSubjects}}
			<div class="tw-font-semibold tw-text-base tw-mt-6 tw-mb-3 text muted">
				{{ctx.Locale.Tr "explore.subject.similar"}}
			</div>
			{{range .SimilarSubjects}}
				{{template "shared/subject/item" .}}
			{{end}}
		{{end}}

	{{else}}
		{{/* When not searching, show all subjects normally */}}
		{{range .Subjects}}
			{{template "shared/subject/item" .}}
		{{else}}
			<div>
				{{ctx.Locale.Tr "search.no_results"}}
			</div>
		{{end}}
	{{end}}
</div>

